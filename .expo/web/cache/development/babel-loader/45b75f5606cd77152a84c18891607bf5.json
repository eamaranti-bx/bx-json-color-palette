{"ast":null,"code":"import React from 'react';\nimport { useButton } from '@react-native-aria/button';\nimport { useComboBoxState } from '@react-stately/combobox';\nimport { useComboBox } from '@react-native-aria/combobox';\nimport { useListBox, useOption } from '@react-native-aria/listbox';\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport findNodeHandle from \"react-native-web/dist/exports/findNodeHandle\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport { Item } from '@react-stately/collections';\nimport Box from '../../primitives/Box';\nimport { Pressable } from '../../primitives/Pressable';\nimport Text from '../../primitives/Text';\nimport { extractInObject } from '../../../theme/tools';\nimport { layoutPropsList } from './types';\nimport { Input } from '../../primitives/Input';\nimport { useThemeProps } from '../../../hooks';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s4, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s4 = _i.next()).done); _n = true) {\n      _arr.push(_s4.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n\n    if (typeof Object.getOwnPropertySymbols === \"function\") {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(n);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nvar _s = $RefreshSig$(),\n    _s1 = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$();\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nvar _tmp;\n\nvar Typeahead = _s(React.forwardRef((_tmp = _s(function (_param, ref) {\n  var onSelectedItemChange = _param.onSelectedItemChange,\n      options = _param.options,\n      renderItem = _param.renderItem,\n      getOptionLabel = _param.getOptionLabel,\n      getOptionKey = _param.getOptionKey,\n      onChange = _param.onChange,\n      numberOfItems = _param.numberOfItems,\n      rest = _objectWithoutProperties(_param, [\"onSelectedItemChange\", \"options\", \"renderItem\", \"getOptionLabel\", \"getOptionKey\", \"onChange\", \"numberOfItems\"]);\n\n  _s();\n\n  if (useHasResponsiveProps(rest)) {\n    return null;\n  }\n\n  return React.createElement(ComboBoxImplementation, _extends({}, rest, {\n    onSelectionChange: onSelectedItemChange,\n    items: numberOfItems !== undefined ? options.slice(0, numberOfItems) : options,\n    onInputChange: onChange,\n    ref: ref\n  }), function (item) {\n    if (typeof item !== 'string' && getOptionLabel === undefined) {\n      throw new Error('Please use getOptionLabel prop');\n    }\n\n    if (item.id === undefined && getOptionKey === undefined) {\n      throw new Error('Please use getOptionKey prop');\n    }\n\n    var optionLabel = getOptionLabel ? getOptionLabel(item) : item;\n    var optionKey = getOptionKey ? getOptionKey(item) : item.id !== undefined ? item.id : optionLabel;\n    return React.createElement(Item, {\n      textValue: optionLabel,\n      key: optionKey\n    }, renderItem ? renderItem(item) : React.createElement(Box, {\n      p: 2,\n      justifyContent: \"center\"\n    }, React.createElement(Text, null, optionLabel)));\n  });\n}, \"6bgQodg0TzCnC+sh66zK0WX4/IY=\", false, function () {\n  return [useHasResponsiveProps];\n}), _c = _tmp, _tmp)), \"6bgQodg0TzCnC+sh66zK0WX4/IY=\", false, function () {\n  return [useHasResponsiveProps];\n});\n\nexport { Typeahead };\n_c1 = Typeahead;\nvar ComboBoxImplementation = React.forwardRef(_s1(function (props, ref) {\n  _s1();\n\n  var ref1 = _slicedToArray(extractInObject(props, layoutPropsList), 1),\n      layoutProps = ref1[0];\n\n  var state = useComboBoxState(props);\n  var triggerRef = React.useRef(null);\n  var inputRef = React.useRef(null);\n  var listBoxRef = React.useRef(null);\n  var popoverRef = React.useRef(null);\n  var ref2 = useComboBox(_objectSpread({}, props, {\n    inputRef: inputRef,\n    buttonRef: triggerRef,\n    listBoxRef: listBoxRef,\n    popoverRef: popoverRef,\n    menuTrigger: 'input'\n  }), state),\n      triggerProps = ref2.buttonProps,\n      inputProps = ref2.inputProps,\n      listBoxProps = ref2.listBoxProps,\n      labelProps = ref2.labelProps;\n\n  var toggleIconSetter = function toggleIconSetter() {\n    if (typeof props.toggleIcon === 'function') return props.toggleIcon({\n      isOpen: state.isOpen\n    });\n    return props.toggleIcon;\n  };\n\n  var buttonProps = useButton(triggerProps).buttonProps;\n  return React.createElement(Box, _extends({\n    flexDirection: \"row\"\n  }, layoutProps, {\n    ref: ref\n  }), React.createElement(Box, {\n    flex: 1\n  }, props.label && React.createElement(Text, _extends({}, labelProps, {\n    pb: 1\n  }), props.label), React.createElement(Input, _extends({}, inputProps, {\n    ref: inputRef,\n    InputRightElement: React.createElement(Pressable, _extends({}, buttonProps, {\n      ref: triggerRef\n    }), toggleIconSetter())\n  })), state.isOpen && React.createElement(ListBoxPopup, _extends({}, listBoxProps, {\n    listBoxRef: listBoxRef,\n    popoverRef: popoverRef,\n    state: state,\n    label: props.label\n  }))));\n}, \"Xvl/BmNDNNJXavkHcKsv1WLtmrA=\", false, function () {\n  return [useComboBoxState, useComboBox, useButton];\n}));\n_c2 = ComboBoxImplementation;\n\nfunction ListBoxPopup(props) {\n  _s2();\n\n  var popoverRef = props.popoverRef,\n      listBoxRef = props.listBoxRef,\n      state = props.state,\n      dropdownHeight = props.dropdownHeight,\n      label = props.label;\n  var listBoxProps = useListBox({\n    label: label,\n    autoFocus: state.focusStrategy,\n    disallowEmptySelection: true\n  }, state, listBoxRef).listBoxProps;\n  return React.createElement(Box, {\n    ref: popoverRef\n  }, React.createElement(Box, {\n    position: \"absolute\",\n    width: \"100%\",\n    maxHeight: dropdownHeight !== null && dropdownHeight !== void 0 ? dropdownHeight : 200\n  }, React.createElement(ScrollView, _extends({}, listBoxProps, {\n    keyboardShouldPersistTaps: \"handled\",\n    ref: function ref(node) {\n      if (Platform.OS === 'web') {\n        listBoxRef.current = findNodeHandle(node);\n      } else {\n        listBoxRef.current = node;\n      }\n    }\n  }), _toConsumableArray(state.collection).map(function (item) {\n    return React.createElement(Option, {\n      key: item.key,\n      item: item,\n      state: state\n    });\n  }))));\n}\n\n_s2(ListBoxPopup, \"8o1W2WJW0Cdp1dr4b7Ve5V5jvuA=\", false, function () {\n  return [useListBox];\n});\n\n_c3 = ListBoxPopup;\n\nfunction Option(param) {\n  var item = param.item,\n      state = param.state;\n\n  _s3();\n\n  var searchItemStyle = useThemeProps('TypeAheadSearchItem', {});\n  var ref = React.useRef(null);\n  var isDisabled = state.disabledKeys.has(item.key);\n  var isSelected = state.selectionManager.isSelected(item.key);\n  var isFocused = state.selectionManager.focusedKey === item.key;\n  var optionProps = useOption({\n    key: item.key,\n    isDisabled: isDisabled,\n    isSelected: isSelected,\n    shouldFocusOnHover: true,\n    shouldUseVirtualFocus: true\n  }, state, ref).optionProps;\n  var backgroundColor = searchItemStyle.backgroundColor;\n  var opacity = 1;\n\n  if (isSelected) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isFocused) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isDisabled) {\n    opacity = 0.6;\n    backgroundColor = searchItemStyle._disabled.backgroundColor;\n  }\n\n  return React.createElement(Pressable, _extends({}, optionProps, {\n    opacity: opacity,\n    cursor: isDisabled ? Platform.OS === 'web' ? 'not-allowed' : null : null,\n    backgroundColor: backgroundColor,\n    ref: ref\n  }), item.rendered);\n}\n\n_s3(Option, \"YBxHGdxAIqn4mMi+dKBN2pz547w=\", false, function () {\n  return [useThemeProps, useOption];\n});\n\n_c4 = Option;\n\nvar _c, _c1, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"Typeahead$React.forwardRef\");\n$RefreshReg$(_c1, \"Typeahead\");\n$RefreshReg$(_c2, \"ComboBoxImplementation\");\n$RefreshReg$(_c3, \"ListBoxPopup\");\n$RefreshReg$(_c4, \"Option\");\n;\n;\n\n(function () {\n  var _a, _b;\n\n  if (typeof self !== 'undefined' && '$RefreshHelpers$' in self) {\n    var currentExports = __webpack_module__.exports;\n    var prevExports = (_b = (_a = __webpack_module__.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n    self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, __webpack_module__.id);\n\n    if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n      __webpack_module__.hot.dispose(function (data) {\n        data.prevExports = currentExports;\n      });\n\n      import.meta.webpackHot.accept();\n\n      if (prevExports !== null) {\n        if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n          __webpack_module__.hot.invalidate();\n        } else {\n          self.$RefreshHelpers$.scheduleUpdate();\n        }\n      }\n    } else {\n      var isNoLongerABoundary = prevExports !== null;\n\n      if (isNoLongerABoundary) {\n        __webpack_module__.hot.invalidate();\n      }\n    }\n  }\n})();","map":{"version":3,"sources":["C:\\projects\\json-color-palette-generator\\node_modules\\native-base\\lib\\module\\components\\composites\\Typeahead\\Typeahead.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","React","useButton","useComboBoxState","useComboBox","useListBox","useOption","Item","Box","Pressable","Text","extractInObject","layoutPropsList","Input","useThemeProps","useHasResponsiveProps","Typeahead","forwardRef","onSelectedItemChange","options","renderItem","getOptionLabel","getOptionKey","onChange","numberOfItems","rest","ref","createElement","ComboBoxImplementation","onSelectionChange","items","undefined","slice","onInputChange","item","Error","id","optionLabel","optionKey","textValue","p","justifyContent","props","layoutProps","state","triggerRef","useRef","inputRef","listBoxRef","popoverRef","buttonProps","triggerProps","inputProps","listBoxProps","labelProps","buttonRef","menuTrigger","toggleIconSetter","toggleIcon","isOpen","flexDirection","flex","label","pb","InputRightElement","ListBoxPopup","dropdownHeight","autoFocus","focusStrategy","disallowEmptySelection","position","width","maxHeight","ScrollView","keyboardShouldPersistTaps","node","Platform","OS","current","findNodeHandle","collection","map","Option","searchItemStyle","isDisabled","disabledKeys","has","isSelected","selectionManager","isFocused","focusedKey","optionProps","shouldFocusOnHover","shouldUseVirtualFocus","backgroundColor","opacity","_focus","_disabled","cursor","rendered"],"mappings":"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","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nimport React from 'react';\nimport { useButton } from '@react-native-aria/button';\nimport { useComboBoxState } from '@react-stately/combobox';\nimport { useComboBox } from '@react-native-aria/combobox';\nimport { useListBox, useOption } from '@react-native-aria/listbox';\nimport { ScrollView, findNodeHandle, Platform } from 'react-native';\nimport { Item } from '@react-stately/collections';\nimport Box from '../../primitives/Box';\nimport { Pressable } from '../../primitives/Pressable';\nimport Text from '../../primitives/Text';\nimport { extractInObject } from '../../../theme/tools';\nimport { layoutPropsList } from './types';\nimport { Input } from '../../primitives/Input';\nimport { useThemeProps } from '../../../hooks';\nimport { useHasResponsiveProps } from '../../../hooks/useHasResponsiveProps';\nexport const Typeahead = /*#__PURE__*/React.forwardRef(({\n  onSelectedItemChange,\n  options,\n  renderItem,\n  getOptionLabel,\n  getOptionKey,\n  onChange,\n  numberOfItems,\n  ...rest\n}, ref) => {\n  //TODO: refactor for responsive prop\n  if (useHasResponsiveProps(rest)) {\n    return null;\n  }\n\n  return /*#__PURE__*/React.createElement(ComboBoxImplementation, _extends({}, rest, {\n    onSelectionChange: onSelectedItemChange,\n    items: numberOfItems !== undefined ? options.slice(0, numberOfItems) : options,\n    onInputChange: onChange,\n    ref: ref\n  }), item => {\n    if (typeof item !== 'string' && getOptionLabel === undefined) {\n      throw new Error('Please use getOptionLabel prop');\n    }\n\n    if (item.id === undefined && getOptionKey === undefined) {\n      throw new Error('Please use getOptionKey prop');\n    }\n\n    const optionLabel = getOptionLabel ? getOptionLabel(item) : item;\n    const optionKey = getOptionKey ? getOptionKey(item) : item.id !== undefined ? item.id : optionLabel;\n    return /*#__PURE__*/React.createElement(Item, {\n      textValue: optionLabel,\n      key: optionKey\n    }, renderItem ? renderItem(item) : /*#__PURE__*/React.createElement(Box, {\n      p: 2,\n      justifyContent: \"center\"\n    }, /*#__PURE__*/React.createElement(Text, null, optionLabel)));\n  });\n});\nconst ComboBoxImplementation = /*#__PURE__*/React.forwardRef((props, ref) => {\n  const [layoutProps] = extractInObject(props, layoutPropsList);\n  let state = useComboBoxState(props);\n  let triggerRef = React.useRef(null);\n  let inputRef = React.useRef(null);\n  let listBoxRef = React.useRef(null);\n  let popoverRef = React.useRef(null);\n  let {\n    buttonProps: triggerProps,\n    inputProps,\n    listBoxProps,\n    labelProps\n  } = useComboBox({ ...props,\n    inputRef,\n    buttonRef: triggerRef,\n    listBoxRef,\n    popoverRef,\n    menuTrigger: 'input'\n  }, state);\n\n  const toggleIconSetter = () => {\n    if (typeof props.toggleIcon === 'function') return props.toggleIcon({\n      isOpen: state.isOpen\n    });\n    return props.toggleIcon;\n  };\n\n  let {\n    buttonProps\n  } = useButton(triggerProps);\n  return /*#__PURE__*/React.createElement(Box, _extends({\n    flexDirection: \"row\"\n  }, layoutProps, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(Box, {\n    flex: 1\n  }, props.label && /*#__PURE__*/React.createElement(Text, _extends({}, labelProps, {\n    pb: 1\n  }), props.label), /*#__PURE__*/React.createElement(Input, _extends({}, inputProps, {\n    ref: inputRef,\n    InputRightElement:\n    /*#__PURE__*/\n    // @ts-ignore - RN has hitSlop type inconsistent for View and Pressable!\n    React.createElement(Pressable, _extends({}, buttonProps, {\n      ref: triggerRef\n    }), toggleIconSetter())\n  })), state.isOpen && /*#__PURE__*/React.createElement(ListBoxPopup, _extends({}, listBoxProps, {\n    listBoxRef: listBoxRef,\n    popoverRef: popoverRef,\n    state: state,\n    label: props.label\n  }))));\n});\n\nfunction ListBoxPopup(props) {\n  let {\n    popoverRef,\n    listBoxRef,\n    state,\n    dropdownHeight,\n    label\n  } = props;\n  let {\n    listBoxProps\n  } = useListBox({\n    label,\n    autoFocus: state.focusStrategy,\n    disallowEmptySelection: true\n  }, state, listBoxRef);\n  return /*#__PURE__*/React.createElement(Box, {\n    ref: popoverRef\n  }, /*#__PURE__*/React.createElement(Box, {\n    position: \"absolute\",\n    width: \"100%\",\n    maxHeight: dropdownHeight !== null && dropdownHeight !== void 0 ? dropdownHeight : 200\n  }, /*#__PURE__*/React.createElement(ScrollView, _extends({}, listBoxProps, {\n    keyboardShouldPersistTaps: \"handled\",\n    ref: node => {\n      if (Platform.OS === 'web') {\n        listBoxRef.current = findNodeHandle(node);\n      } else {\n        listBoxRef.current = node;\n      }\n    }\n  }), [...state.collection].map(item => /*#__PURE__*/React.createElement(Option, {\n    key: item.key,\n    item: item,\n    state: state\n  })))));\n}\n\nfunction Option({\n  item,\n  state\n}) {\n  const searchItemStyle = useThemeProps('TypeAheadSearchItem', {});\n  let ref = React.useRef(null);\n  let isDisabled = state.disabledKeys.has(item.key);\n  let isSelected = state.selectionManager.isSelected(item.key);\n  let isFocused = state.selectionManager.focusedKey === item.key;\n  let {\n    optionProps\n  } = useOption({\n    key: item.key,\n    isDisabled,\n    isSelected,\n    shouldFocusOnHover: true,\n    shouldUseVirtualFocus: true\n  }, state, ref);\n  let backgroundColor = searchItemStyle.backgroundColor;\n  let opacity = 1;\n\n  if (isSelected) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isFocused) {\n    backgroundColor = searchItemStyle._focus.backgroundColor;\n  } else if (isDisabled) {\n    opacity = 0.6;\n    backgroundColor = searchItemStyle._disabled.backgroundColor;\n  }\n\n  return /*#__PURE__*/React.createElement(Pressable, _extends({}, optionProps, {\n    opacity: opacity,\n    cursor: isDisabled ? Platform.OS === 'web' ? 'not-allowed' : null : null,\n    backgroundColor: backgroundColor,\n    ref: ref\n  }), item.rendered);\n}\n//# sourceMappingURL=Typeahead.js.map"]},"metadata":{},"sourceType":"module"}